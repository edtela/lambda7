{% extends "base.html" %}

{% block title %}Magnetic Moments - Lambda7{% endblock %}

{% block content %}
<section class="hero">
    <h1>Magnetic Moments</h1>
    <p class="hero-subtitle">Baryon magnetic moments from &pi;-fractions</p>
</section>

<section class="section">
    <h2>The Proton Magnetic Moment</h2>

    {% set proton = magnetic_moments['p'] %}
    <p>
        The proton magnetic moment, in nuclear magnetons, follows a simple &pi;-formula:
    </p>

    <div class="formula-highlight">
        \[ \mu_p = {{ proton.formula_latex() }} \]
    </div>

    <div class="calculation-box">
        <h4>Calculation</h4>
        <table class="calculation-table">
            <tr>
                <td class="calc-term">\( {{ proton.formula_latex() }} \)</td>
                <td class="calc-equals">=</td>
                <td class="calc-value">\( 8 \times 3.14159.../9 \)</td>
                <td class="calc-equals">=</td>
                <td class="calc-result"><strong>{{ "%.4f"|format(proton.mu_calc()) }}</strong></td>
                <td class="calc-unit"><strong>&mu;<sub>N</sub></strong></td>
            </tr>
            <tr class="calc-exp">
                <td class="calc-term">Experimental</td>
                <td class="calc-equals"></td>
                <td class="calc-value"></td>
                <td class="calc-equals">=</td>
                <td class="calc-result">{{ "%.4f"|format(proton.mu_exp) }}</td>
                <td class="calc-unit">&mu;<sub>N</sub></td>
            </tr>
        </table>
        <p class="calc-error">
            <strong>Error: {{ "%.2f"|format(proton.error_percent()) }}%</strong>
        </p>
    </div>

    <p>
        The numerator <strong>8 = floor(2&pi;) + 2 = 6 + 2</strong> connects to the proton mass coefficient.
        The denominator <strong>9 = 3&sup2;</strong> may represent the color factor.
    </p>
</section>

<section class="section">
    <h2>The Three Families</h2>

    <p>
        Magnetic moments split into three families based on charge:
    </p>

    <h3>Positive Charge: &mu; = N&pi;/9</h3>
    <table class="results-table">
        <thead>
            <tr>
                <th>Particle</th>
                <th>N</th>
                <th>Formula</th>
                <th>Calc</th>
                <th>Exp</th>
                <th>Error</th>
            </tr>
        </thead>
        <tbody>
            {% for m in positive_charge_moments %}
            <tr>
                <td>\( {{ m.latex_symbol }} \)</td>
                <td>{{ m.numerator|abs }}</td>
                <td>\( {{ m.formula_latex() }} \)</td>
                <td>{{ "%+.4f"|format(m.mu_calc()) }}</td>
                <td>{{ "%+.4f"|format(m.mu_exp) }}</td>
                <td>{{ "%.2f"|format(m.error_percent()) }}%</td>
            </tr>
            {% endfor %}
        </tbody>
    </table>

    <h3>Neutral: &mu; = N/&pi;<sup>k</sup></h3>
    <table class="results-table">
        <thead>
            <tr>
                <th>Particle</th>
                <th>N</th>
                <th>k</th>
                <th>Formula</th>
                <th>Calc</th>
                <th>Exp</th>
                <th>Error</th>
            </tr>
        </thead>
        <tbody>
            {% for m in neutral_moments %}
            <tr>
                <td>\( {{ m.latex_symbol }} \)</td>
                <td>{{ m.numerator|abs }}</td>
                <td>{{ m.pi_power }}</td>
                <td>\( {{ m.formula_latex() }} \)</td>
                <td>{{ "%.4f"|format(m.mu_calc()) }}</td>
                <td>{{ "%.4f"|format(m.mu_exp) }}</td>
                <td>{{ "%.2f"|format(m.error_percent()) }}%</td>
            </tr>
            {% endfor %}
        </tbody>
    </table>

    <h3>Negative Charge: &mu; = N/&pi;<sup>k</sup></h3>
    <table class="results-table">
        <thead>
            <tr>
                <th>Particle</th>
                <th>N</th>
                <th>k</th>
                <th>Formula</th>
                <th>Calc</th>
                <th>Exp</th>
                <th>Error</th>
            </tr>
        </thead>
        <tbody>
            {% for m in negative_charge_moments %}
            <tr>
                <td>\( {{ m.latex_symbol }} \)</td>
                <td>{{ m.numerator|abs }}</td>
                <td>{{ m.pi_power }}</td>
                <td>\( {{ m.formula_latex() }} \)</td>
                <td>{{ "%.4f"|format(m.mu_calc()) }}</td>
                <td>{{ "%.4f"|format(m.mu_exp) }}</td>
                <td>{{ "%.2f"|format(m.error_percent()) }}%</td>
            </tr>
            {% endfor %}
        </tbody>
    </table>
</section>

<section class="section">
    <h2>The q-Calculus Vocabulary</h2>

    <p>
        The numerators use the same q-integers as mass formulas:
    </p>

    <table class="results-table">
        <thead>
            <tr>
                <th>N</th>
                <th>q-Expression</th>
                <th>Appears in</th>
            </tr>
        </thead>
        <tbody>
            {% for q in q_vocabulary %}
            <tr>
                <td>{{ q.N }}</td>
                <td>\( {{ q.expression }} \)</td>
                <td>\( {{ q.appears_in }} \)</td>
            </tr>
            {% endfor %}
        </tbody>
    </table>
</section>

<section class="section">
    <h2>The 6-Chain</h2>

    <p>
        The nucleon coefficient 6 propagates through the neutral/negative baryons:
    </p>

    <div class="cycle-preview">
        {% for m in six_chain %}
        <div class="cycle-level">
            <span class="level-label">\( {{ m.formula_latex() }} \)</span>
            <span class="level-particle">\( {{ m.latex_symbol }} \)</span>
            <span class="level-info">S = {{ m.strangeness }}{% if m.strangeness == 0 %}, base level{% elif m.strangeness == -1 and m.charge == 0 %}, one strange{% elif m.strangeness == -1 and m.charge == -1 %}, symmetric{% endif %}</span>
        </div>
        {% if not loop.last %}
        <div class="cycle-arrow">&darr;</div>
        {% endif %}
        {% endfor %}
    </div>

    <p>
        The transition from &Lambda; to &Sigma;<sup>-</sup> <strong>squares the numerator</strong> (6 &rarr; 36)
        while going one power deeper in &pi;.
    </p>
</section>

<section class="section">
    <h2>The 20 Family</h2>

    <p>
        The coefficient <strong>20 = 4 &times; 5</strong> appears in both &Xi;<sup>-</sup> and &Omega;<sup>-</sup>:
    </p>

    <div class="comparison-grid">
        {% for m in twenty_family %}
        <div class="comparison-item">
            <h4>{{ m.symbol }}</h4>
            <div class="formula-small">
                \[ \mu = {{ m.formula_latex() }} \]
            </div>
            <p>S = {{ m.strangeness }}{% if m.strangeness == -2 %}, deeper level{% elif m.strangeness == -3 %}, but shallower!{% endif %}</p>
        </div>
        {% endfor %}
    </div>

    <p>
        The &Omega;<sup>-</sup> (all strange) uses &pi;<sup>-2</sup> rather than &pi;<sup>-3</sup>,
        suggesting a saturation effect at maximum strangeness.
    </p>
</section>

<section class="section">
    <h2>Mass vs Magnetic Moment Coefficients</h2>

    <table class="results-table">
        <thead>
            <tr>
                <th>Particle</th>
                <th>Mass \(c_5\)</th>
                <th>&mu; Numerator</th>
                <th>Relationship</th>
            </tr>
        </thead>
        <tbody>
            {% for r in mass_vs_mu %}
            <tr>
                <td>\( {{ r.latex }} \)</td>
                <td>{{ r.mass_c5 }}</td>
                <td>{{ r.mu_num }}</td>
                <td>\( {{ r.relation }} \)</td>
            </tr>
            {% endfor %}
        </tbody>
    </table>
</section>

<section class="section">
    <h2>Summary</h2>

    <div class="summary-box">
        <p><strong>The Rules:</strong></p>
        <ul>
            <li><strong>Q &gt; 0:</strong> &mu; = N&pi;/9 (denominator 9 = 3&sup2;, color factor)</li>
            <li><strong>Q &le; 0:</strong> &mu; = N/&pi;<sup>k</sup> (k increases with strangeness)</li>
            <li><strong>Numerators:</strong> Use same q-integers as mass (6, 7, 8, 20, 36)</li>
        </ul>

        <p><strong>Key Formulas:</strong></p>
        <table class="results-table">
            <thead>
                <tr>
                    <th>Particle</th>
                    <th>Formula</th>
                    <th>Value (&mu;<sub>N</sub>)</th>
                    <th>Error</th>
                </tr>
            </thead>
            <tbody>
                {% for key in ['p', 'n', 'Lambda', 'Sigma-', 'Omega'] %}
                {% set m = magnetic_moments[key] %}
                <tr>
                    <td>\( {{ m.latex_symbol }} \)</td>
                    <td>\( {{ m.formula_latex() }} \)</td>
                    <td>{{ "%+.4f"|format(m.mu_calc()) }}</td>
                    <td>{{ "%.2f"|format(m.error_percent()) }}%</td>
                </tr>
                {% endfor %}
            </tbody>
        </table>
    </div>
</section>

<section class="section">
    <p><a href="framework.html">&larr; Back to Framework</a></p>
</section>
{% endblock %}
